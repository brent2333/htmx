
  <div class="form-wrap">
    <form id="userForm" method="post" action="/users/sendmessage">
    <div class="flex">
        <label for="name" class="form-label">Name:</label>
        <input type="text" id="name" name="name" required class="form-control">
    </div>

    <div class="flex">
        <label for="email" class="form-label">Email:</label>
        <input type="email" id="email" name="email" required class="form-control">
    </div>

    <div class="flex">
        <label for="message" class="form-label">Message:</label>
        <textarea id="message" name="message" required class="form-control"></textarea>
    </div>

    <button type="submit" class="btn btn-dark">Send Message</button>
</form>
<script>
    (function() {
        const form = document.getElementById('userForm')
        form.addEventListener('submit', function (event) {
        var data = this;
        fetch(data.getAttribute('action'), {
        method: data.getAttribute('method'),
        body: new FormData(data)
        }).then(res=>res.text())
        .then(function (data) {
            htmx.ajax('GET', '/thanks', '#userForm');
        });
        event.preventDefault();
    });
    }())
</script>
